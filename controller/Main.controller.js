sap.ui.define(["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("bq.benqyou.controller.Main",{onInit(){},onFileUpload:function(e){const o=e.getParameter("files");const t=o&&o[0];if(!t)return;const n=new FileReader;n.onload=async function(e){const o=new Uint8Array(e.target.result);const n=window.pdfjsLib;if(!n){console.error("Error with PDF.js library.");return}try{const e=await n.getDocument({data:o}).promise;console.log("file name: ",t.name);console.log("pages: ",e.numPages);const r=[];for(let o=1;o<=e.numPages;o++){const t=await e.getPage(o);const n=await t.getTextContent();const s=new Map;n.items.forEach(e=>{const o=Math.round(e.transform[5]);if(!s.has(o)){s.set(o,[])}s.get(o).push(e.str)});const a=Array.from(s.keys()).sort((e,o)=>o-e);a.forEach(e=>{const o=s.get(e).join(" ");r.push(o)})}console.log(r)}catch(e){console.error("Error while loading PDF file: ",e)}};n.readAsArrayBuffer(t)}})});
//# sourceMappingURL=Main.controller.js.map